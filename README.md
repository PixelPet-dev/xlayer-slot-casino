# ğŸ° XLayer Slot - Blockchain Casino Game

A professional blockchain-based slot machine game built on XLayer network with complete audio system and real-time prize pool display.

![XLayer Slot](https://img.shields.io/badge/XLayer-Slot-orange?style=for-the-badge)
![Blockchain](https://img.shields.io/badge/Blockchain-Casino-blue?style=for-the-badge)
![Audio](https://img.shields.io/badge/Audio-System-green?style=for-the-badge)

## ğŸŒ Live Demo

**ğŸ® Play Now**: https://pixelpet-dev.github.io/xlayer-slot-casino/

> ğŸš€ **Status**: Deploying... Please wait a few minutes for GitHub Pages to build and deploy the game.

## âœ¨ Features

### ğŸ® Core Game Features
- **Blockchain-based Slot Machine** - Provably fair gaming on XLayer
- **XLuckyCoin (XLC) Integration** - Native token for betting and rewards
- **Real-time Prize Pool** - Live display of contract balance
- **User Registration System** - Nickname-based player profiles
- **Game History Tracking** - Complete transaction history
- **Responsive Design** - Works on desktop and mobile

### ğŸµ Professional Audio System
- **Background Music (BGM)** - Auto-play with user controls
- **Sound Effects** - Win/lose audio with smart BGM management
- **Audio Controls** - Play/pause, volume slider, mute button
- **Fallback System** - Generated audio if files are missing
- **Smart Audio Logic** - BGM pauses during effects, auto-resumes

### ğŸ¨ User Interface
- **OKX Theme Design** - Professional dark theme
- **Logo Integration** - Custom branding
- **Real-time Updates** - Live balance and prize pool
- **Intuitive Controls** - Easy-to-use interface
- **Status Indicators** - Clear game state feedback

- ğŸ° **æ°´æœæœºæŠ½å¥–æ¸¸æˆ**
- ğŸ’° **ç›´æ¥ä»£å¸ä¸‹æ³¨**
- ğŸ† **ç´¯è®¡å¥–åŠ±ç³»ç»Ÿ**
- ğŸ”— **X Layer ä¸»ç½‘é›†æˆ**
- ğŸ“± **Web3.js é’±åŒ…è¿æ¥**

## æŠ€æœ¯æ ˆ

- **åŒºå—é“¾**: X Layer ä¸»ç½‘ (Chain ID: 196)
- **å‰ç«¯**: React + Web3.js
- **æ™ºèƒ½åˆçº¦**: Solidity
- **å¼€å‘æ¡†æ¶**: Hardhat

## æ¸¸æˆè§„åˆ™

1. **ä¸‹æ³¨**: ç”¨æˆ·è¾“å…¥ä»£å¸æ•°é‡è¿›è¡Œä¸‹æ³¨
2. **æŠ½å¥–**: æ™ºèƒ½åˆçº¦ç”Ÿæˆéšæœºç»“æœ
3. **å¥–åŠ±**: ä¸­å¥–åå¥–åŠ±ç´¯è®¡åˆ°ç”¨æˆ·è´¦æˆ·
4. **é¢†å–**: ç”¨æˆ·å¯éšæ—¶é¢†å–ç´¯è®¡çš„å¥–åŠ±

## é¡¹ç›®ç»“æ„

```
xlayer-simple/
â”œâ”€â”€ contracts/          # æ™ºèƒ½åˆçº¦
â”‚   â””â”€â”€ LotteryGame.sol # ä¸»æ¸¸æˆåˆçº¦
â”œâ”€â”€ frontend/           # å‰ç«¯åº”ç”¨
â”œâ”€â”€ scripts/            # éƒ¨ç½²è„šæœ¬
â””â”€â”€ test/              # æµ‹è¯•æ–‡ä»¶
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. ç¼–è¯‘åˆçº¦
```bash
npm run compile
```

### 3. éƒ¨ç½²åˆ° X Layer ä¸»ç½‘
```bash
npm run deploy:mainnet
```

### 4. å¯åŠ¨å‰ç«¯
```bash
cd frontend
npm install
npm start
```

## ç½‘ç»œé…ç½®

- **ç½‘ç»œåç§°**: X Layer Mainnet
- **Chain ID**: 196
- **RPC URL**: https://rpc.xlayer.tech
- **åŒºå—æµè§ˆå™¨**: https://www.oklink.com/xlayer
- **Gas ä»£å¸**: OKB

## åˆçº¦åŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½
- âœ… ç”¨æˆ·æ³¨å†Œ
- âœ… ä»£å¸ä¸‹æ³¨
- âœ… éšæœºæŠ½å¥–
- âœ… å¥–åŠ±ç´¯è®¡
- âœ… å¥–åŠ±é¢†å–
- âœ… å¿«æ·ä¸‹æ³¨é€‰é¡¹

### ç®¡ç†åŠŸèƒ½
- âœ… æ¸¸æˆé…ç½®
- âœ… èµ”ç‡è®¾ç½®
- âœ… æš‚åœ/æ¢å¤
- âœ… ç´§æ€¥æå–

## å®‰å…¨ç‰¹æ€§

- ğŸ”’ å¯é‡å…¥æ”»å‡»ä¿æŠ¤
- ğŸ”’ æƒé™æ§åˆ¶
- ğŸ”’ æš‚åœæœºåˆ¶
- ğŸ”’ éšæœºæ•°å®‰å…¨

## æ ¸å¿ƒç‰¹æ€§è¯¦è§£

### ğŸ”„ ä»£å¸åˆ‡æ¢åŠŸèƒ½
- ç®¡ç†å‘˜å¯éšæ—¶æ›´æ¢æ¸¸æˆä½¿ç”¨çš„ä»£å¸åˆçº¦
- æ”¯æŒä»»ä½•æ ‡å‡† ERC20 ä»£å¸
- æ— éœ€é‡æ–°éƒ¨ç½²åˆçº¦

### ğŸ¯ ç®€åŒ–çš„æ¸¸æˆæµç¨‹
1. è¿æ¥é’±åŒ… â†’ æ³¨å†Œç”¨æˆ· â†’ é€‰æ‹©ä¸‹æ³¨é‡‘é¢ â†’ å¼€å§‹æŠ½å¥–
2. ä¸­å¥–å¥–åŠ±è‡ªåŠ¨ç´¯è®¡åˆ°ç”¨æˆ·è´¦æˆ·
3. ç”¨æˆ·å¯éšæ—¶é¢†å–ç´¯è®¡å¥–åŠ±

### ğŸ’° çµæ´»çš„ä¸‹æ³¨ç³»ç»Ÿ
- æ”¯æŒè‡ªå®šä¹‰ä¸‹æ³¨é‡‘é¢
- æä¾›å¿«æ·ä¸‹æ³¨é€‰é¡¹ï¼ˆå¯é…ç½®ï¼‰
- å®æ—¶éªŒè¯é’±åŒ…ä½™é¢å’Œæˆæƒ

### ğŸ”’ å®‰å…¨ä¿éšœ
- æ™ºèƒ½åˆçº¦ç»è¿‡å…¨é¢æµ‹è¯•
- é˜²é‡å…¥æ”»å‡»ä¿æŠ¤
- æš‚åœæœºåˆ¶å’Œç´§æ€¥æå–åŠŸèƒ½

## å¼€å‘è®¡åˆ’

- [x] æ™ºèƒ½åˆçº¦å¼€å‘
- [x] å‰ç«¯ç•Œé¢å¼€å‘
- [x] æµ‹è¯•ç”¨ä¾‹ç¼–å†™
- [ ] æœ¬åœ°æµ‹è¯•
- [ ] ä¸»ç½‘éƒ¨ç½²
- [ ] ç”¨æˆ·æµ‹è¯•

## éƒ¨ç½²æŒ‡å—

### 1. ç¯å¢ƒå‡†å¤‡
```bash
# å®‰è£…ä¾èµ–
npm install

# å¤åˆ¶ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„ç§é’¥å’Œé…ç½®
```

### 2. ç¼–è¯‘å’Œæµ‹è¯•
```bash
# ç¼–è¯‘åˆçº¦
npm run compile

# è¿è¡Œæµ‹è¯•
npm run test
```

### 3. éƒ¨ç½²åˆ° X Layer ä¸»ç½‘
```bash
# éƒ¨ç½²åˆçº¦
npm run deploy:mainnet

# éªŒè¯åˆçº¦ï¼ˆå¯é€‰ï¼‰
npm run verify:mainnet
```

### 4. å¯åŠ¨å‰ç«¯
```bash
cd frontend
npm install
npm start
```

## ç®¡ç†å‘˜æ“ä½œ

éƒ¨ç½²å®Œæˆåï¼Œç®¡ç†å‘˜éœ€è¦è¿›è¡Œä»¥ä¸‹é…ç½®ï¼š

### è®¾ç½®ä»£å¸åˆçº¦
```javascript
// æ›´æ¢æ¸¸æˆä½¿ç”¨çš„ä»£å¸
await lotteryGame.updateTokenContract("0xä»£å¸åˆçº¦åœ°å€");
```

### é…ç½®æ¸¸æˆå‚æ•°
```javascript
// æ›´æ–°æ¸¸æˆé…ç½®
await lotteryGame.updateGameConfig(
  minBet,           // æœ€å°ä¸‹æ³¨é‡‘é¢
  maxBet,           // æœ€å¤§ä¸‹æ³¨é‡‘é¢
  houseFeePercentage, // å¹³å°è´¹ç‡ (åŸºæ•°10000)
  isActive          // æ˜¯å¦æ¿€æ´»æ¸¸æˆ
);

// æ›´æ–°å¿«æ·ä¸‹æ³¨é€‰é¡¹
await lotteryGame.updateQuickBetOptions([
  ethers.parseEther("1"),
  ethers.parseEther("5"),
  ethers.parseEther("10")
]);
```

### ç®¡ç†å¥–åŠ±æ± 
```javascript
// å‘åˆçº¦å­˜å…¥ä»£å¸ä½œä¸ºå¥–åŠ±æ± 
await tokenContract.approve(lotteryGameAddress, amount);
await lotteryGame.depositTokens(amount);

// ç´§æ€¥æå–ï¼ˆå¦‚éœ€è¦ï¼‰
await lotteryGame.emergencyWithdraw(amount);
```
